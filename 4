#include <stdio.h>
#include <string.h>

int main(void)
{
    char buff[64];         /* larger buffer */
    int pass = 0;

    printf("\nEnter the password: ");
    if (fgets(buff, sizeof(buff), stdin) == NULL) {
        fprintf(stderr, "Error reading input\n");
        return 1;
    }

    /* Remove trailing newline inserted by fgets (if any) */
    buff[strcspn(buff, "\n")] = '\0';

    /* strcmp returns 0 when strings are equal */
    if (strcmp(buff, "thegeekstuff") == 0) {
        pass = 1;
    } else {
        pass = 0;
    }

    if (pass) {
        printf("\nCorrect Password\n");
        /* Do not programmatically give root/admin rights here.
           Perform allowed actions for an authenticated user instead. */
    } else {
        printf("\nWrong Password\n");
    }

    return 0;
}

gcc -g -O0 -fno-stack-protector -no-pie overflow.c -o overflow
./overflow
